<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title>Osmosis Student Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
        background-image: url(assets/img/greyWoodBackground.jpg);
      }
      
     page-header {
	     	font-size:100pt;
      }
      
      }

      .btn_right_side {
        float: right;
      }

      #loadingscreen {
        display:    none;
        position:   absolute;
        top:        0;
        right:       0;
        z-index:    999;
        height:     100%;
        width:      100%;
        background: rgba( 255, 255, 255, .8 ) 
                    url('http://osmosisgalaxy.github.com/Osmosis/assets/img/loader.gif') 
                    50% 50% 
                    no-repeat;
      }

      .navbar{
        z-index: 998;
      }

      .project_img{
        display: block;
        width: 50%;
        height: auto;
        margin-left: auto;
        margin-right: auto;
      }
      .project_video{
        display: block;
        width: 560px;
        height: 315px;
        margin-left: auto;
        margin-right: auto;
      }
     
    </style>
    
    <script type="text/javascript">
    function showInnerHtml(){
        var contents=document.getElementById("formArea");
        alert(contents);
    }
  
    $(function ()  
      { $("#profile_popover").popover({placement:'bottom'});
	  
    }); 
    </script>
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <script src="assets/js/angular/angular.min.js"></script>
    <script src="assets/js/angular/angular-resource.min.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="assets/js/app.js"></script>
    <script src="assets/js/controllers.js"></script>
   </head>
   
<body ng-controller="ProjectCtrl" ng-show="isLogin">
  <div id="loadingscreen"></div>
  <script>
    $('#loadingscreen').show();
  </script>

  <!-- Student Modal Editing Profile -->
   <div modal="studOpen" close="close()" options="opts">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close()">×</button>
            <h4>Edit my profile</h4>
        </div>
        <div class="modal-body">
            <form class="form-horizontal" id="createForm"> 
            
             <div class="control-group">  
                  <label class="control-label" for="studentName" style="font-weight:bold">Name</label>
                  <div class="controls">
                    <input type="text" class="span3" id="studentName" ng-model="stud_info.full_name" style="font-size:85%">
                    <br>
                    <span class="help-block" style="font-size:70%" >What is your full name as registered with the school? e.g. Poh Yang Zhou </span>
                  </div>
                </div>
            
             <div class="control-group">  
                  <label class="control-label" for="yearOfAdmission" style="font-weight:bold">Year of Admission</label>
                  <div class="controls">
                    <input type="text" class="span1" id="yearOfAdmission" ng-model="stud_info.yoa" style="font-size:85%">
                  </div>
                </div>
            
            
            <div class="control-group">  
                  <label class="control-label" for="email" style="font-weight:bold">Email</label>
                  <div class="controls">
                    <input type="text" class="span3" id="email" ng-model="stud_info.email" style="font-size:85%">
                  </div>
                </div>
  
            <div class="control-group">  
                  <label class="control-label" for="skills" style="font-weight:bold">Skills</label>
                  <div class="controls">
                    <input type="text" class="span3" id="skills" ng-model="stud_info.skill" style="font-size:85%">
                    <br>
                    <span class="help-block" style="font-size:70%" >What are your skills? e.g. java, c#, HTML </span>                    
                  </div>
                </div>                

            <div class="control-group">  
                  <label class="control-label" for="areaOfInterest" style="font-weight:bold">Area of Interests</label>
                  <div class="controls">
                    <input type="text" class="span3" id="areaOfInterest" ng-model="stud_info.aoi" style="font-size:85%">
                    <br>
                    <span class="help-block" style="font-size:70%" >What are you interested in developing for FYP? Do you like mobile applications or web applications etc? e.g. ios, android </span>                     
                  </div>
                </div> 

            <div class="control-group">  
                  <label class="control-label" for="IntendedFypYear" style="font-weight:bold">Intended FYP Semester</label>
                  <div class="controls">
                    <select ui-select2 ng-model="stud_info.fyp" style="font-size:85%">
            <option value="">Pick a sem</option>
            <option value="Y3S1">Y3S1</option>
            <option value="Y3S2">Y3S2</option>
            <option value="Y4S1">Y4S1</option>
            <option value="Y4S2">Y4S2</option>
          </select>
                    <br>
                    <span class="help-block" style="font-size:70%" >Which semester do you want to do FYP in? </span>          
                  </div>
                </div> 
            </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-small" ng-click="saveStudInfo()">Save</button>
            <button class="btn btn-warning cancel" ng-click="close()">Cancel</button>
        </div>
    </div>
 <!-- end modal for editing student profile -->

  <!-- MODAL for Client Profile Editing -->
    <div modal="clientOpen" close="close()" options="opts">
      <div class="modal-header">
          <h4>Edit my profile</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" id="createForm"> 
        
          <div class="control-group">  
            <label class="control-label" for="clientName" style="font-weight:bold">Name</label>
            <div class="controls">
              <input type="text" class="span3" id="clientName" ng-model="user_profile.full_name" style="font-size:85%">
              <br>
              <span class="help-block" style="font-size:70%" >What is your company name to be shown to students? e.g. SamPearl Co. </span>
            </div>
          </div>
        
          <div class="control-group">  
            <label class="control-label" for="website" style="font-weight:bold">Website</label>
            <div class="controls">
              <input type="text" class="span3" id="website" ng-model="user_profile.website" style="font-size:85%">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-small" ng-click="saveClientInfo()">Save</button>
          <button class="btn btn-warning cancel" ng-click="close()">Cancel</button>
      </div>
    </div>
    <!-- END MODAL for Client Profile Editing -->


	  	 <!-----------  Start of navigation bar  ------------>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          	<img src="assets/img/OsmosisLogo.png" width=9.5% style=" position:relative;  top: 20px">
	          <div style="position:relative; top: 5px; float:right; color:grey">Welcome, {{display_name}} | <a href="#" ng-click="open()" >Edit Profile</a>
	          </div>
	         	<br>
	         <ul class="nav" style="position:relative; left:110px">
	            <li><a href="{{home_link}}"><i class="icon-home"></i> HOME</a></li>
	            <li class="active"><a href="#"><i class="icon-book"></i> PROJECT</a></li>
	         </ul>
        </div><!-- /.container -->
      </div><!-- /.navbar-inner -->
      <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
    </div><!-- /.navbar navbar-inverse navbar-fixed-top -->
    <!--  End of navigation bar  -->
	<br>
	<div class="container-fluid">
    <div class="span8 offset2">
      <div align="center">
        <h3>Projects Available</h3>
      </div>
    </div></br>
    
    <div class="span8 offset2">
      <!-- Below information is shown for students -->
      <div ng-hide="isClient" class="well" style="overflow: auto; height: 80px; background:rgba(240,240,240,0.7); border-style:solid; border-color:#C0C0C0;  position:relative; left:25px">
        This project is in an order from being the <b>MOST SUITABLE</b> for you and your team at the top and the least suitable at the bottom.</br>
        This is calculated based on you and your team members' <b>SKILL</b> and <b>AREA OF INTEREST</b>. Even if you do not have a team, the projects will still be sorted according to your profile.
      </div>
      <!-- END information shown for students -->

      <!-- Search textbox -->
      <!-- <div class="well" style="background:rgba(240,240,240,0.7); border-color:#C0C0C0;  position:relative; left:25px" align="center"> -->
        <span class="accordion" id="filterProjA" style="position:relative;left:25px" align="center">
          <div class="accordion-group">
            <div class="accordion-heading">
              <a class="accordion-toggle" data-toggle="collapse" data-parent="#filterProjA" href="#filterProj">
                <b>Search Projects</b>
              </a>
            </div>
            <div id="filterProj" class="accordion-body collapse in">
              <div class="accordion-inner">
                <table class="table" align="center" border="0">
                  <tr>
                    <td>Project Name:</br><input type="text" ng-model="nameFilter"></td>
                    <td>Project Description:</br><input type="text" ng-model="descFilter"></td>
                    <td>Technology Exposure:</br><input type="text" ng-model="expoFilter"></td>
                  </tr>
                  <tr>
                    <td>Company:</br><input type="text" ng-model="companyFilter"></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </span>
      <!-- </div> -->
      <!-- END Search textbox -->

    </div>
    <div class='span8 offset2' style="position:relative; left:25px">
      <!-- Start of PROJECTS AVAILABLE -->
        <div ng-hide="isClient" ng-repeat="(key,val) in projRank | filter: studentSearchFunction">
          <button class="btn btn-block" ng-click="displayProjModal('std',key)" align="center">{{val[0].title}} [Weightage Points:{{val[1]}}]</button>
        </div>

        <div ng-show="isClient" ng-repeat="(key,val) in forClient | filter: clientSearchFunction">
          <button class="btn btn-block" ng-click="displayProjModal('cpr',key)" align="center">{{val.title}}</button>
        </div>

        <div modal="openProjModal" close="close_project_modal()" options="opts">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="close_project_modal()">×</button>
            <h3>{{project_modal_detail.title}}</h3>
          </div>
          <div class="modal-body">
            <!-- IMAGE FOR PROJECT -->
            <strong>Project Image:</strong><br/>
            <img class="project_img" ng-src="{{isBlank && 'assets/img/noimg.gif' || project_modal_detail.img}}" onerror="this.src='assets/img/noimg.gif'">
            
            <br/>
            <!-- Show video -->
            <strong>Project Video:</strong><br/>
            <iframe class="project_video"allowTransparency="true" scrolling="no" ng-src="{{project_modal_detail.video}}" frameborder="0" allowfullscreen onerror="location.href='assets/img/novid.gif'"></iframe>
            
            <br/>
            <!-- Richtext editor for project objective -->
            <strong>Project Objective:</strong><br/> 
              <div ng-hide="editorEnabled" ng-bind-html-unsafe="project_modal_detail.description">
              </div>
             
            <br/>
            <strong>Project Outcome:</strong><br/>
                {{project_modal_detail.outcome}}
              
              <br/>
            <strong>Technologies Exposure:</strong><br/>
                <!-- {{project_modal_detail.exposure}} -->
                <span ng-repeat="te_tag in project_te">
                  <span class="myTag">{{te_tag}}</span>
                </span>
            <br/><br/>
            <strong>Required Skill(s):</strong><br/>
                <!-- {{project_modal_detail.rskill}} -->
                <span ng-repeat="rs_tag in project_rs">
                  <span class="myTag">{{rs_tag}}</span>
                </span>
            <br/>
             <strong>Required Team Size:</strong><br/>
                {{project_modal_detail.teamsize}}
              
            <br/>
            <strong>Company:</strong><br/>
                {{project_modal_detail.company}}
            <br/>
            <strong>Contact Person:</strong><br/>
                {{project_modal_detail.poc}}
              
            <br/>
            <strong>Contact Email:</strong><br/>
              <div ng-repeat="email in project_modal_detail.email">
                {{email}}
              </div>
              
            <br/>
            <strong>Contact Number:</strong><br/>
                {{project_modal_detail.contact}}
              
            <br/>
            
          </div>
          <div class="modal-footer">
            <button type="btn" class="btn" ng-click="close_project_modal()">Close</button>
          </div>
        </div>

	<!-- FOOTER -->
      
      <div class='span12'>
      <footer>
        <p style="font-size:smaller">&copy; 2013 Osmosis &middot;
      </footer>
      </div><!-- /.span12 -->
	  
  
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!--<script src="test/lib/angular/angular-mocks.js"></script>-->
    
    <link href="assets/css/bootstrap-tagmanager.css" rel="stylesheet" type="text/css" />
    <!-- for Angular UI Modal -->
    <script src="assets/js/angular/angular_ui_modal.js"></script>
    <script src="assets/js/bootstrap/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap/bootstrap-typeahead.js"></script>
    <script type="text/javascript">
      $('.accordion-body').collapse("hide");
      $('#createTeam').collapse("show");
    </script>
  </body>
</html>

